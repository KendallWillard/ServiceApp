<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Service Provider Home Page</title>
    <link rel="stylesheet"
      href="localhost:3000/service_providers/:id">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
      </script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <style>
  .fakeimg {
    height: 200px;
    background: #aaa;
  }
  </style>
  </head>
  <body>
    <div class="header text-center" style="margin-bottom:0">
    </div>

    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
      <a class="navbar-brand" href="#">Explore</a>
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/services">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/service_providers">Service Providers</a>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container" style="margin-top:30px">
      <div class="row">
          <div class="header-class">
            <img src="https://t.realgeeks.media/thumbnail/EpGrrvy9R7hcqucZ5VWpz4HZi84=/fit-in/0x720/https://u.realgeeks.media/coastallivingconnection/14_Service_Providers.jpg" class="img-fluid" alt="Responsive image">
          </div>
      </div>
    </div>


    <div class="card-deck" style="margin-top:30px">
      <% if @filter_results %>
        <% @service_provider_array = @service_providers.select do |service_provider| %>
          <% service_provider.service_ids.include?(@service.id) %>
        <% end %>
      <% end %>
      <% if @service_provider_array %>
        <% @service_provider_array.each do |service_provider| %>
          <div class="card">
            <div class="row">
              <div class="col-sm-4">
                  <img class="img-fluid" src="<%=service_provider.image_url%>" alt="Responsive image">
              </div>
              <div class="col-sm-8">
                <div class="card-body">
                  <h5 class="card-title"><%= link_to service_provider.name, service_provider_path(service_provider) %></h5>
                  <p class="card-text"><%= service_provider.state %></p>
                  <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      <% else %>
        <% @service_providers.each do |service_provider| %>
        <div class="card">
          <div class="row">
            <div class="col-sm-4">
                <img class="img-fluid" src="<%=service_provider.image_url%>" alt="Responsive image">
            </div>
            <div class="col-sm-8">
              <div class="card-body">
                <h5 class="card-title"><%= link_to service_provider.name, service_provider_path(service_provider) %></h5>
                <p class="card-text"><%= service_provider.state %></p>
                <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
              </div>
            </div>
          </div>
        </div>
        <% end %>
      <% end %>
    </div>

  </body>
</html>
